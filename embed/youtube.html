<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light gray">
    <title>Youtube Player</title>
</head>    
<body>
    <div>
        <h3 id="InfoText"></h3>
        <iframe id="iframeYt" src="about:blank" width="100%" style="border-radius: 0px; border: none; aspect-ratio: 16/9; min-height: 250px;" allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe>
    </div>
    <script>
        function IdError() {
            document.getElementById('InfoText').innerHTML = 'Error please see the console';
            document.getElementById('InfoText').style.fontFamily = "Consolas, monospace";
            console.error('The id is not specified');
            console.warn('Use ?id=:vidId');
            document.getElementById('iframeYt').style.display = 'none';
            return "";
        }
        const params = new URLSearchParams(window.location.search);
        const id = params.get("id") == null ? IdError() : params.get("id");

        console.debug("id = " + id);

        const link = `https://www.yout-ube.com/embed/${id}?autoplay=1&iv_load_policy=3&loop=1&start=0`;
        console.debug(link);
        document.getElementById('iframeYt').src = link;
    </script>
</body>
</html>
